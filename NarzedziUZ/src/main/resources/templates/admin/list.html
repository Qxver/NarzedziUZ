<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" th:href="@{/css/navbar.css}">
    <link rel="stylesheet" th:href="@{/css/register.css}">
    <title>Wyszukiwanie i Zarządzanie Użytkownikami</title> </head>

<body>

<div class="navbar">
    <div class="logo">
        <a href="/">NarzedziUZ</a>
    </div>

    <div class="search-bar">
        <input type="text" placeholder="Search for products...">
        <select>
            <option value="">Filter</option>
            <option value="filter1">By price (descending)</option>
            <option value="filter2">By price (ascending)</option>
            <option value="filter3">By rating (descending)</option>
            <option value="filter4">By rating (ascending)</option>
        </select>

        <select>
            <option value="">All Categories</option>
            <option value="category1">Category1</option>
            <option value="category2">Category2</option>
            <option value="category3">Category3</option>
        </select>
        <button class="search-button">Search</button>
    </div>

    <div class="navbar-buttons">
        <a href="/admin/dashboard" class="navbar-button">Panel Admina</a>
        <a href="/logout" class="navbar-button">Wyloguj</a>
    </div>
</div>

---

<h1>Wyszukiwanie i Zarządzanie Użytkownikami</h1>

<form th:action="@{/admin/search}" method="get" class="search-form"> <label for="emailInput">Szukaj po Email:</label>
    <input type="text" id="emailInput" name="email" th:value="${searchTerm}" placeholder="Wprowadź email">
    <button type="submit" class="search-button">Szukaj</button>
    <a th:href="@{/admin/search}" class="clear-button">Wyczyść</a> </form>

---

<h2>Wyniki Wyszukiwania:</h2>

<div th:if="${users.isEmpty()}" class="no-results-message"> <p>Brak użytkowników do wyświetlenia.</p>
</div>

<table border="1" th:unless="${users.isEmpty()}" class="user-table"> <thead>
<tr>
    <th>ID</th>
    <th>Imię</th> <th>Nazwisko</th>
    <th>Email</th>
    <th>Akcje</th> </tr>
</thead>
    <tbody>
    <tr th:each="user : ${users}">
        <td th:text="${user.userId}">1</td>
        <td th:text="${user.firstName}">Jan</td>
        <td th:text="${user.lastName}">Kowalski</td>
        <td th:text="${user.email}">user.test@example.com</td>

        <td>
            <form th:action="@{/admin/{id}/delete(id=${user.userId})}" method="post" onsubmit="return confirm('Czy na pewno chcesz usunąć tego użytkownika?');">
                <button type="submit" class="delete-button">Usuń</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>
</body>
</html>